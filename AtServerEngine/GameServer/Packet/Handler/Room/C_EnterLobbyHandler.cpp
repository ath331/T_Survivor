////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif C_EnterLobbyHandler class
////////////////////////////////////////////////////////////////////////////////////////////////////


#include "pch.h"
#include "C_EnterLobbyHandler.h"
#include "Logic/Room/Lobby.h"
#include "Logic/Object/Actor/Player/Player.h"
#include "Logic/Utils/ObjectUtils.h"
#include "Session/GameSession.h"


////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif HandlerRun
////////////////////////////////////////////////////////////////////////////////////////////////////
AtBool C_EnterLobbyHandler::Handle( PacketSessionPtr& session, Protocol::C_EnterLobby& pkt )
{
	PlayerPtr player = ObjectUtils::CreatePlayer( static_pointer_cast< GameSession >( session ) );
	GLobby->DoAsync( &Room::HandleEnterPlayer, player );

	return true;
}