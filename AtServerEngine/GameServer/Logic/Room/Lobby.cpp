////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif Lobby File
////////////////////////////////////////////////////////////////////////////////////////////////////


#include "pch.h"
#include "Lobby.h"
#include "Packet/Protocol.pb.h"
#include "Session/GameSession.h"
#include "Packet/Handler/ClientPacketHandler.h"
#include "Logic/Object/Actor/Player/Player.h"


LobbyPtr GLobby = make_shared< Lobby >();


////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif 플레이어를 방에 입장시킨다.
////////////////////////////////////////////////////////////////////////////////////////////////////
AtBool Lobby::HandleEnterPlayer( PlayerPtr player )
{
	Room::HandleEnterPlayer( player );

	Protocol::S_EnterLobby pktEnterLobby;
	pktEnterLobby.set_success( true );
	pktEnterLobby.set_playerid( player->objectInfo->id() );

	if ( auto session = player->session.lock() )
		session->Send( pktEnterLobby );

	return true;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif 룸을 업데이트한다.
////////////////////////////////////////////////////////////////////////////////////////////////////
AtVoid Lobby::UpdateTick()
{
	Room::UpdateTick();


}
