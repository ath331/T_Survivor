////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif AISequence class
////////////////////////////////////////////////////////////////////////////////////////////////////


#include "pch.h"
#include "AISequence.h"


////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif 생성자
////////////////////////////////////////////////////////////////////////////////////////////////////
AISequence::AISequence( const std::vector< AINode* >& nodes )
	:
	children( nodes )
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif 소멸자
////////////////////////////////////////////////////////////////////////////////////////////////////
AISequence::~AISequence()
{
	for ( auto child : children )
	{
		if ( child )
			delete child;
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// @breif 실행한다
////////////////////////////////////////////////////////////////////////////////////////////////////
AIStatus AISequence::Execute( Actor* actor )
{
	for ( auto child : children )
	{
		AIStatus status = child->Execute( actor );
		if ( status != AIStatus::Success )
		{
			return status;
		}
	}

	return AIStatus::Success;
}
